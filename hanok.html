<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&family=Hahmlet:wght@100..900&family=Nanum+Gothic&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="hanok.css">
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=4t1y9nntf5"></script>
</head>
<body>
    <div class="all">
        <div class="header">
            <img src="01. 한바탕전주 세계를 비빈다_03.png" alt="전주로고">
        </div>
        <div class="nav">
            <div class="playdd">
                <a href="hanok.html">놀거리</a>
                <div class="playdd-contents">
                    <a href="hanok.html">한옥마을여행</a>
                    <a href="downtown.html">시내여행</a>
                    <a href="suburb.html">근교여행</a>
                </div>
            </div>
            <div class="fooddd">
                <a href="food_type.html">먹거리</a>
                <div class="fooddd-contents">
                    <a href="food_type.html">종류별 추천</a>
                    <a href="random.html">메뉴, 식당 랜덤추천</a>
                </div>
            </div>
            <div class="transdd">
                <a href="mainspot.html">교통편</a>
                <div class="transdd-contents">
                    <a href="mainspot.html">주요 관광지로 이동</a>
                    <a href="https://map.naver.com/p?c=15.00,0,0,0,dh">다른 목적지로 이동</a>
                </div>
            </div>
            <div class="commdd">
                <a href="review.html">커뮤니티</a>
                <div class="commdd-contents">
                    <a href="review.html">간단한 후기, 별점 남기기</a>
                    <a href="media.html">대중매체 속 전주</a>
                </div>
            </div>
        </div>
        <div class="main">
            <div id="aside">
                <div id="login-state">
                    <input type="button" value="로그아웃" id="logout">
                    <input type="button" value="마이페이지" id="mypage">
                </div>
                <div id="notlogin-state">
                        <label for="id">아이디</label>
                        <input type="text"  id="id" name="id">
                        <label for="pw">비밀번호</label>
                        <input type="password" id="pw" name="pw">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="button" value="로그인" id="login">
                        <input type="button" value="회원가입" id="signup">
                </div>
                <div class="menu">
                    <ul>
                        <h3>놀거리</h3>
                        <li><a href="hanok.html" style="text-decoration: underline;">한옥마을여행</a></li>
                        <li><a href="downtown.html">시내여행</a></li>
                        <li><a href="suburb.html">근교여행</a></li>
                    </ul>
                </div>
            </div>
            <div id="article">
                <div id="article_title">한옥마을여행</div>
                <div id="map" style="width:430px; height: 300px;"></div><br>
                <div id="article_contents">
                    <div id="content1">
                        <h2 style="font-weight: 600; margin: 5px 0 13px 0; font-size: 1.4em;">전동성당</h2>
                        <img src="전동성당.jpg" alt="사진"><br>
                        <p>
                            호남지역에서 최초로 지어진<br>로마네스크 양식의 건물로, 국내에서 가장 아름다운 건축물 중 하나 <br><br>
                            <a target="blank" href="https://map.naver.com/p/entry/place/12942911?lng=127.1492299&lat=35.8133269&placePath=%2Fhome&entry=plt&searchType=place&c=15.00,0,0,0,dh">자세히 보기</a>
                        </p>
                    </div>
                    <div id="content2">
                        <h2 style="font-weight: 600; margin: 5px 0 13px 0; font-size: 1.4em;">오목대</h2>
                        <img src="오목대.jpg" alt="사진"><br>
                        <p>
                            후기 이성계가 왜군을 무찌르고<br>돌아가던 중 승전을 자축한 곳<br><br><br>
                            <a target="blank" href="https://map.naver.com/p/entry/place/20103217?lng=127.15458&lat=35.8143344&placePath=%2Fhome&entry=plt&searchType=place&c=15.00,0,0,0,dh">자세히 보기</a>
                        </p> 
                    </div>
                    <div id="content3">
                        <h2 style="font-weight: 600; margin: 5px 0 13px 0; font-size: 1.4em;">전주향교</h2>
                        <img src="전주향교.jpg" alt="사진"><br>
                        <p>
                            고려 후기에 지방민의 교육과 교화를 위하여 창건된 향교, 교육시설, 사적<br><br><br>
                            <a target="blank" href="https://map.naver.com/p/entry/place/13208787?lng=127.1572064&lat=35.8125189&placePath=%2Fhome&entry=plt&searchType=place&c=15.00,0,0,0,dh">자세히 보기</a>
                        </p>
                    </div>
                    <div id="content4">
                        <h2 style="font-weight: 600; margin: 5px 0 13px 0; font-size: 1.4em;">경기전</h2>
                        <img src="경기전.jpg" alt="사진"><br>
                        <p>
                            조선왕조를 연 태조의 초상화,<br>즉 어진을 봉안하고, 제사를 지내기<br>위해 지어진 건물<br><br>
                            <a target="blank" href="https://map.naver.com/p/entry/place/34648763?lng=127.1497901&lat=35.8153334&placePath=%2Fhome&entry=plt&searchType=place&c=15.00,0,0,0,dh">자세히 보기</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <span id="contact_us">CONTACT US</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span id="reference_file">참고 및 출처</span><br>
            04310 서울특별시 용산구 청파로 47길 100 숙명여자대학교 100&nbsp;&nbsp;&nbsp;Ⓒdlruddms
        </div>
    </div>
    <script>
        function getCookie(name) {
            let pairs = document.cookie.split(";"); // 쿠키문자열을 ;을 경계로 분할
	        for(let i=0; i<pairs.length; i++) {
		        let pair = pairs[i].trim(); // 쿠키 앞뒤의 빈칸 제거
		        let unit = pair.split("=");
		        if(unit[0] == name) {
			        return unescape(unit[1]);
	            }
            }
	        return null;
        }
        function setCookie (name, value, expireDate) {
	        let cookieStr = name + "=" + escape(value) + 
                ((expireDate == null)?"":("; expires=" + expireDate.toUTCString()));
            document.cookie = cookieStr;
        }
        let contact = document.getElementById("contact_us");
        contact.addEventListener("click",function(){
            window.open("contact_us.html", "popup", "width=630 height=450");
        })
        let rf = document.getElementById("reference_file");
        rf.addEventListener("click", function(){
            window.open("reference.html","popup","width=630 height=450");
        })
        function lo() {
            document.getElementById("login-state").style.display = "none";
            document.getElementById("notlogin-state").style.display = "block";
            setCookie('login', 'false');
            setCookie('아이디', null);
            document.getElementById("id").value = "";
            document.getElementById("pw").value = "";
            location.reload();
            alert("일정시간이 지나 자동로그아웃되었습니다.");
        }
        let login = document.getElementById("login");
        login.addEventListener("click", function(){
            let id = document.getElementById('id').value;
            let pw = document.getElementById('pw').value;
            let logintime = new Date().getTime();
            if (id == "" || pw == ""){
                alert("아이디 혹은 비밀번호가 입력되지 않았습니다.");
            }
            else if (localStorage.getItem(id) === null ) {
                alert('해당 아이디가 존재하지 않습니다.');
            }
            else if (pw !== localStorage.getItem(id)){
                alert('잘못된 비밀번호입니다.')
            }
            else {
                document.getElementById("login-state").style.display = "block";
                document.getElementById("login-state").style.marginTop = "10px";
                document.getElementById("notlogin-state").style.display = "none";
                let expire = new Date();
                expire.setTime(expire.getTime() + 3600000);
                setCookie("login", "true", expire);
                setCookie('아이디', id);
                setTimeout(lo, 3600000);
            }
        }
        )
        let logout = document.getElementById("logout")
        logout.addEventListener("click",function(){
            document.getElementById("login-state").style.display = "none";
            document.getElementById("notlogin-state").style.display = "block";
            setCookie("login", "false");
            setCookie('아이디', null);
            document.getElementById("id").value = "";
            document.getElementById("pw").value = "";
        })
        let mypage = document.getElementById("mypage")
        mypage.addEventListener("click",function(){
            window.open("mypage.html", "popup") 
        })
        let signup = document.getElementById("signup")
        signup.addEventListener("click",function(){
            let popup = window.open("signup.html", "popup", "width=500px, height=600px")
            let popupcheck = setInterval(function(){
                if (popup.closed) {
                    clearInterval(popupcheck);
                    location.reload();
                }
            },500);
        })

        document.addEventListener("DOMContentLoaded", function() {
            if(getCookie('login')==='true') {
                document.getElementById("login-state").style.display = "block";
                document.getElementById("login-state").style.marginTop = "10px";
                document.getElementById("notlogin-state").style.display = "none";
            }
        })
        var map = new naver.maps.Map('map', {
            center: new naver.maps.LatLng(35.8147007, 127.1527077),
            zoom: 15
        })
        var marker1 = new naver.maps.Marker({
            position: new naver.maps.LatLng(35.8126194, 127.1572279),
            map: map
        });
        var marker2 = new naver.maps.Marker({
            position: new naver.maps.LatLng(35.814387, 127.154601),
            map: map
        });
        var marker3 = new naver.maps.Marker({
            position: new naver.maps.LatLng(35.8153492, 127.1497938),
            map: map
        });
        var marker4 = new naver.maps.Marker({
            position: new naver.maps.LatLng(35.8133606, 127.1492248),
            map: map
        });
    </script>
</body>
</html>